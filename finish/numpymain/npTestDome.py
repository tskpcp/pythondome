
import numpy as np
import numpy.random as np_random
from numpy.linalg import inv,qr

def npTestDome():
    arr = np.array([[1.0, 2.0,3.0], [4, 5,6]])
    print(arr)
    print(arr*arr)
    print(arr-arr)
    print(1/arr)
    #开根号
    print(arr**0.5)
    print('----------------------------------')
    arr=np.array([[[1,2,3],[4,5,6]],[[7,8,9],[10,11,12]]])
    print(arr)
    print('结果是2维数组')
    print(arr[0])
    print('结果是2维数组')
    print(arr[1,0])
    print('所有元素都设置为同一个值')
    old_values=arr[0].copy()
    arr[0]=42
    print(arr)
    print('把原来的数组写回去')
    arr[0]=old_values
    print(arr)
    print('使用切片访问和操作数组')
    print('----------------------------------')
    arr=np.array([1,2,3,4,5,6,7,8,9,10])
    print(arr)
    print('打印下标1到5')
    print(arr[1:6])
    print('----------------------------------')
    arr=np.array([[1,2,3],[4,5,6],[7,8,9]])
    print(arr)
    print('打印第1,2行')
    print(arr[:2])
    print('打印第1,2行，第2,3列')
    print(arr[:2,1:])
    print('打印第一列所有元素')
    print(arr[:,:1])
    arr[:2,1:]=0
    print('第1,2行，第2,3列的元素设置为0')
    print(arr)
    print('----------------------------------')
    print('使用布尔数组作为索引')
    name_arr=np.array(['Bob','Joe','Will','Bob','Will','Joe','Joe'])
    print(name_arr)
    rnd_arr=np_random.randn(7,4)
    print('随机7行4列数组')
    print(rnd_arr)
    print('元素是Bob的返回true，否则false')
    print(name_arr=='Bob')
    print('获取元素是Bob的所在行')
    print(rnd_arr[name_arr=='Bob'])
    print('获取元素是Bob的所在行，打印前2列')
    print(rnd_arr[name_arr=='Bob',:2])
    print('获取元素是Bob的所在行，取反')
    print(rnd_arr[~(name_arr=='Bob')])
    print('获取元素是Bob或Will的所在行')
    mask_arr=(name_arr=='Bob')|(name_arr=='Will')
    print(rnd_arr[mask_arr])
    print('获取元素不是Joe的所在行的值改为7')
    rnd_arr[name_arr!='Joe']=7
    print(rnd_arr)
    print('----------------------------------')
    print("fancy Indexing 使用整数数组作为索引")
    arr=np.empty((8,4))
    for i in range(8):
        arr[i]=i
    print(arr)
    print("打印arr[4]、arr[3]、arr[0]、arr[6]")
    print(arr[[4,3,0,6]])
    print("打印arr[-3]、arr[-5]、arr[-7]行")
    print(arr[[-3,-5,-7]])
    print("通过reshape变换成二维数组")
    arr=np.arange(32).reshape((8,4))
    print(arr)
    print("打印arr[1,0]、arr[5,3]、arr[7,1]、arr[2,2]")
    print(arr[[1,5,7,2],[0,3,1,2]])
    print("1572行的0312列")
    print(arr[[1,5,7,2]][:,[0,3,1,2]])
    print(arr[np.ix_([1,5,7,2],[0,3,1,2])])
    print('----------------------------------')
    arr=np.arange(15).reshape([3,5])
    print(arr)
    print('转置矩阵')
    print(arr.T)
    print('转置矩阵做点积')
    arr=np_random.randn(6,3)
    print(np.dot(arr.T,arr))
    print('高维矩阵转置')
    arr=np.arange(16).reshape([2,2,4])
    print(arr)
    print(arr.transpose([1,0,2]))
    print(arr.swapaxes(1,2))
    print('----------------------------------')
    print('矩阵乘法')
    x=np.array([[1,2,3],[4,5,6]])
    y=np.array([[6,23],[-1,7],[8,9]])
    print(x.dot(y))
    print(np.dot(x,np.ones(3)))
    x=np_random.randn(5,5)
    print('矩阵求逆')
    mat=x.T.dot(x)
    print(inv(mat))
    print(mat.dot(inv(mat)))
    print('矩阵消元')
    print(mat)
    q,t=qr(mat)
    print(q)
    print(t)